var moduleManager=window.WFmodules;(moduleManager=null==moduleManager?{}:moduleManager).dofilters=function(){const o=this;o.stage=$($(o).attr("data-do-stage")||"#items-container"),o.target=$(o).attr("data-do-target"),o.subTarget=$(o).attr("data-do-sub-target"),o.nav=$(o).attr("data-do-nav")||"#nav-filters",o.type=$(o).attr("data-do-type")||"solo",o.toggleClass=$(o).attr("data-do-class-toggle")||"active:do-hide",o.btToggleClass=$(o).attr("data-do-class-toggle-bt")||"active",o.defaultClass=$(o).attr("data-do-class-default")||"do-block",o.customData=$(o).attr("data-do-custom-data")||"data-do-tag",o.inputArea=$(o).attr("data-do-target-input")||"rechercheArea",o.sep=$(o).attr("data-do-sep")||"/",o.tagIndex=parseInt($(o).attr("data-do-tag-index"))||1;var n=[],l={},e=[],s=[],d=void 0,i=[];$(o.nav).find("a").each(function(){var a=$(this),t=(s.push(a),a.attr("href").split(o.sep)[o.tagIndex]);a.attr(o.customData,t),e.push(t),console.log("push ",t),l[t]=[],a.click(function(a){a.preventDefault(),o.updateTag($(this).attr(o.customData),$(this))})}),$.each($(o.target,o.stage),function(a,t){var t=$(t),e=(t.addClass(o.defaultClass),t.addClass(o.toggleClass),t.attr("href")),e=(e=null!=o.subTarget?t.find(o.subTarget).attr("href"):e).split(o.sep),e=$.grep(e,function(a){return""!=a||a}),s=(console.log("tempsTags ",e),{id:a,instance:t,tags:e});n.push(s),$.each(s.tags,function(a,t){l[t]&&l[t].push(s)})}),o.resetNav=function(a=void 0){(null==a?$(o.nav).find("a"):a).removeClass(o.btToggleClass)},o.activeItems=function(a){$.each(a,function(a,t){t.instance.removeClass(o.toggleClass),gsap.fromTo(t.instance,{duration:.5,opacity:0},{opacity:1})})},o.resetStage=function(a){o.stage.removeClass("active"),i=[],$.each(a,function(a,t){t.instance.addClass(o.toggleClass)}),d=void 0},o.containsAny=function(a,t){return 0<a.filter(function(a){return-1<t.indexOf(a)}).length},o.removeOneTag=function(a){i.splice($.inArray(a,i),1),console.log("multi : ",a," remove from array ",i),d="",$.each(l[a],function(a,t){o.containsAny(i,t.tags)||t.instance.addClass(o.toggleClass)}),$("["+o.customData+"="+a+"]").removeClass(o.btToggleClass),0==i.length&&(o.stage.removeClass("active"),d=void 0,$(o.nav).find("a").removeClass(o.btToggleClass))},o.activeOneTag=function(a){$.each(a,function(a,t){t.instance.removeClass(o.toggleClass),gsap.fromTo(t.instance,{duration:.5,opacity:0},{opacity:1})})},o.activeTags=function(){$.each(i,function(a,t){$("["+o.customData+"="+t+"]").addClass(o.btToggleClass),o.activeOneTag(l[t])})},o.updateTag=function(a,t=void 0){"solo"==o.type&&o.resetNav(),null==d?(console.log("[pas de filtre activÃ© encore]"),o.stage.addClass("active"),o.activeItems(l[a]),d=a,i.push(d),t.addClass(o.btToggleClass)):a==d||null==a?(console.log("[tag identique ou tag undefined]"),"solo"==o.type?o.resetStage(l[d]):null!=a&&o.removeOneTag(a),t&&t.removeClass(o.btToggleClass)):(console.log("[nouveau tag]"),o.stage.addClass("active"),d=a,"solo"==o.type?($(o.target).addClass(o.toggleClass),t.addClass(o.btToggleClass),o.activeOneTag(l[d])):(-1!==$.inArray(d,i)?(console.log("multi : ",d," deja dans array ",i),o.updateTag(d)):(t.addClass(o.btToggleClass),i.push(d),console.log("multi : ",d," nouveau dans array ",i),o.activeOneTag(l[d])),console.log("multi : new result ",i)))},o.autocomplete=function(a,s,o){var n=!1;a.addEventListener("input",function(a){var t,e=this.value;if(n=!1,!e)return o(void 0),!1;for(t=0;t<s.length;t++)s[t].substr(0,e.length).toUpperCase()==e.toUpperCase()&&(n=!0,o(s[t]),(void 0).appendChild(void 0));0==n&&o(void 0)})},o.resultRecherche=function(a){a!=d&&(null==a?o.updateTag(a):o.updateTag(a,$("["+o.customData+"="+a+"]")))},o.autocomplete(document.getElementById(o.inputArea),e,o.resultRecherche)},window.WFmodules=moduleManager;